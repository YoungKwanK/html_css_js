<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>회원목록조회</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
  <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
</head>
<body>
  <nav class="navbar bg-dark navbar-dark navbar-expand-lg">
    <a href="" class="navbar-brand mx-auto">게시판 서비스</a>
    <ul class="navbar-nav">
      <li class="nav-item">
        <a href="..\author\author_list.html" class="nav-link">회원목록</a>
      </li>
      <li class="nav-item">
        <a href="..\post\post_list.html" class="nav-link">게시글목록</a>
      </li>
      <li class="nav-item">
        <a href="..\author\author_register.html" class="nav-link">회원가입</a>
      </li>
    </ul>
  </nav>

  <div class="container">
    <h3>회원 목록</h3>
    <table class="table">
    <thead>
      <tr>
        <th>회원id</th><th>이름</th><th>이메일</th>
      </tr>
    </thead>
    <tbody id="tbodyId">
    </tbody>
  </table>
  </div>
  <script>
    async function findAllAuthor(){
        const data = (await axios.get("http://localhost:8080/author/list")).data;
        for(let i=0; i<data.length; i++){
          tbodyId.innerHTML+=`<tr><td>${data[i].id}</td><td>${data[i].name}</td><td>${data[i].email}</td>`;
        }
      }
    try{
      let tbodyId=document.getElementById("tbodyId");
      findAllAuthor();
    }catch(e){
      alert("데이터를 불러오는 데 실패했습니다.");
    }
  </script>
</body>
</html>